<%# [Hyrax-overwrite-hyrax-v5.2.0]
      - only display delete button if user is an admin L#25
      - eliminate `id` attribute from links L#18, 26. and 46
      - add desired icons to action links L#20, 32, 41, and 49
      - wrap link text in `span` L#21, 33, and 50 %>

<% ul_id = 'admin-set-action-dropdown-ul-' + document.id %>

<div class="btn-group">

  <button class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" type="button" id="dropdownMenu_<%= document.id %>" aria-haspopup="true" aria-expanded="false" aria-controls="<%= ul_id %>">
    <span class="sr-only"><%= t("hyrax.dashboard.my.sr.press_to") %> </span>
    <%= t("hyrax.dashboard.my.action.select") %>
  </button>

  <ul role="menu" id="<%= ul_id %>" class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu_<%= document.id %>">
    <% if can? :edit, document.id %>
      <%= link_to [main_app, :edit, document], role: 'menuitem' do %>
        <li class="dropdown-item" tabindex="-1">
          <i class="fa fa-solid fa-pencil" aria-hidden="true"></i>
          <span> <%= t("hyrax.dashboard.my.action.edit_work") %> </span>
        </li>
      <% end %>

      <% if current_user.admin? %>
        <%= link_to [main_app, document],
                    method: :delete,
                    role: 'menuitem',
                    data: {
                      confirm: t("hyrax.dashboard.my.action.work_confirmation", application_name: application_name) } do %>
          <li class="dropdown-item" tabindex="-1">
            <i class="fa fa-trash" aria-hidden="true"></i>
            <span> <%= t("hyrax.dashboard.my.action.delete_work") %> </span>
          </li>
        <% end %>
      <% end %>
    <% end %>

    <%= display_trophy_link(current_user, document.id, role: 'menuitem' ) do |text| %>
      <li class="dropdown-item" tabindex="-1">
        <i class="fa fa-star" aria-hidden="true"></i> <%= text %>
      </li>
    <% end %>

    <% if can? :transfer, document.id %>
      <%= link_to(hyrax.new_work_transfer_path(document.id), role: 'menuitem',
                  class: 'itemicon itemtransfer', title: t("hyrax.dashboard.my.action.transfer")) do %>
        <li class="dropdown-item" tabindex="-1">
          <i class="fa fa-exchange" aria-hidden="true"></i>
          <span> <%= t("hyrax.dashboard.my.action.transfer") %> </span>
        </li>
      <% end %>
    <% end %>
  </ul>
</div>
